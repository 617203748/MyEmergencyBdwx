首先配置防火墙
vi /etc/sysconfig/iptables
如果iptables内容为空，则粘贴内容如下：
# Generated by iptables-save v1.4.7 on Wed Oct 14 20:46:42 2015
*filter
:INPUT ACCEPT [1663:162513]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [2922:1983743]
-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -p tcp -m tcp --dport 22 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 9000 -j ACCEPT
-A INPUT -p tcp -s 10.170.139.181 -j ACCEPT
-P INPUT DROP
COMMIT



针对1u1g小型Linux服务器优化方向
1 Mysql 占用内存
2 Tomcat 
3 Nginx 
4 cache 优化命令  echo 3 > /proc/sys/vm/drop_caches 


一、MySql优化
	1G内存的服务器无力为MySql提供40MB以上的物理内存。
	MySQL 5.6相比于前代GA版本性能提升显著，但默认缓存设置对于小型站点并不合理。通过修改my.cnf中的performance_schema_max_table_instances参数，能够有效降低内存占用。
	
	Mysql的默认配置
		performance_schema_max_table_instances 12500
		table_definition_cache 1400
		table_open_cache 2000
	
	
	# vim /etc/my.cnf
	
	[mysqld] 配置如下
	文件开始
		[mysqld]
		basedir = /mydata/setup/mysql
		datadir = /mydata/setup/mysql/data
		log-error = /mydata/setup/mysql/logs/mysql_error.log
		pid-file = /mydata/setup/mysql/mysql.pid
		
		default-storage-engine=INNODB
		user = mysql
		
		#降低物理内存
		performance_schema_max_table_instances=400
		table_definition_cache=400
		table_open_cache=256
		
		#innodb_buffer_pool_size = 64M
		#query_cache_size = 16M
		#tmp_table_size = 64M
		#key_buffer_size
		
		sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 
	文件结束
	
	
	